### Project Context: AMM Indexer and Telegram Bot

**Overall Goal:**
The project consists of two main components designed to index cryptocurrency swaps and display price data:
1.  **Indexer (`amm_indexer_prices`):** This service listens for swap events from two AMMs (SpikeySwap and DexlynSwap), processes them, and generates 1-minute OHLC (Open, High, Low, Close) price data.
2.  **Telegram Bot (`telegram-price-bot`):** This service allows users to query the OHLC price data generated by the indexer.

---

**Chosen Architecture:**
We have opted for a microservices architecture using two separate repositories and two databases to ensure a clean separation of concerns and system robustness.

*   **Repository 1: `amm_indexer_prices` (The Indexer - THIS REPO)**
    *   **Source Database (Local):** Utilizes **SQLite** to rapidly store raw swap data (`DexlynSwap`, `SpikeyAmmSwap`) and metadata (`Token`, `Pair`). This acts as a "hot" buffer.
    *   **Destination Database (Cloud):** Utilizes **Supabase (PostgreSQL)** to store the processed, consumption-ready data (`OhlcData`, along with a synchronized copy of `Token` and `Pair` tables).
    *   **Processing Logic:** A `TaskProcessor` cron job runs every minute, executing two tasks sequentially:
        1.  **DB Sync (`executeSyncDb`):** Copies any new `Token` or `Pair` records from the local SQLite DB to the Supabase DB, ensuring IDs are consistent.
        2.  **OHLC Aggregation (`executeOhlcAggregation`):** Reads the latest swaps from SQLite, calculates the 1-minute OHLC data, and saves the result to the `OhlcData` table in Supabase.

*   **Repository 2: `telegram-price-bot` (TO BE CREATED)**
    *   **Technology Stack:** To be built with **Node.js, TypeScript, and the Telegraf.js library**. We chose to stick with the TS/JS ecosystem to reuse the Prisma client and database expertise.
    *   **Database Connection:** The bot will connect **exclusively to the Supabase database**. It will only require **read-only** permissions for the `OhlcData`, `Pair`, and `Token` tables. It will have no knowledge of the SQLite database.
    *   **Boilerplate/Template:** After evaluating several options, we have decided to use the **`ptkdev-boilerplate/node-telegram-bot-boilerplate`** as a starting point. Despite its age, we chose it for its comprehensive structure.

---

**Current Status:**
*   The work on the indexer repository (`amm_indexer_prices`) is considered **logically complete**. The indexing, synchronization, and aggregation pipelines are all in place.
*   The immediate next step is for me (the user) to clone the chosen boilerplate to create the `telegram-price-bot` repository.

**Task for the Next Assistant:**
Your primary task is to help me set up the new `telegram-price-bot` project. I will have cloned the repository, and my first question will be about how to integrate Prisma and connect it to our Supabase database to start building the `/price` command. Please read this file to get up to speed.
